<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script  type="text/javascript" src="https://cdn.bootcss.com/babel-standalone/7.0.0-beta.3/babel.js"></script>
    <script src="https://cdn.bootcss.com/styled-components/5.1.0/styled-components-macro.cjs.min.js"></script>
</head>
<body>
    Reactæ¨å‡ºåï¼Œå‡ºäºä¸åŒçš„åŸå› å…ˆåå‡ºç°ä¸‰ç§å®šä¹‰reactç»„ä»¶çš„æ–¹å¼ï¼Œæ®Šé€”åŒå½’ï¼›å…·ä½“çš„ä¸‰ç§æ–¹å¼ï¼š

        1.å‡½æ•°å¼å®šä¹‰çš„æ— çŠ¶æ€ç»„ä»¶
        2.es5åŸç”Ÿæ–¹å¼React.createClasså®šä¹‰çš„ç»„ä»¶
        3. es6å½¢å¼çš„extends React.Componentå®šä¹‰çš„ç»„ä»¶

    <div id="app"></div>
    <script crossorigin type="text/babel" >

// prop
    // let data = {
    //     name:"Sebastian",
    //      title:'title',
    //      date:'01-01'
    // }
    // let app = document.querySelector('#app')
    // function HelloComponent(props) {
    //     console.log(props);
    // return <div>Hello -- {props.name}  --{props.title} --- {props.date}</div>
    // }
    // ReactDOM.render(<HelloComponent {...data}/>,  app) 



//state å’Œ ref
    // class Welcome extends React.Component {
    //     constructor(props) {
    //         super(props); // è·å–ç»„ä»¶ä¸Šçš„ å±æ€§
    //         console.log(this);
    //         this.state = {title: "are you ok"};

    //         this.second = null;

    //         this.one = React.createRef();
    //         console.log(this.one);
    //     }
    //     componentDidMount(){

    //         // React.createRef
    //         console.log(this.one.current);
    //         // <input value="one" />

    //         this.one.current.focus();

    //         // è·å– callback ref 
    //         console.log(this.second);
    //         //<input value="second" />

    //         // è·å– string ref 
    //         console.log(this.refs.third);
    //         // <input type="text" ref= 'textInput'/>
    //     }
    //     render() {
    //         return <h1>
    //                 Hello, {this.state.title} 

              

    //                 {/* callback ref */}
    //                 <input value="one" ref={this.one} />     
                     

    //                 {/* callback ref */}
    //                 <input value="second" ref={(input) => {this.second = input }} />
                    
    //                 {/* string ref */}
    //                 <input value="third" ref='third' />
    //             </h1>;
    //     }
      
    // }
    // ReactDOM.render(<Welcome name='Word' />,  app) ;

// äº‹ä»¶ç»‘å®š
    // class Hellow extends React.Component {
    //     constructor(props) {
    //         super(props);
    //         this.handClick = this.handClick.bind(this);
    //     }
    //     handClick(e) {
    //         e.preventDefault();
    //         console.log(e);
    //     }

    //     handClickTwo() {
    //         console.log('hello');
    //     }
    //     handClickThird() {
    //         console.log('hello');
    //     }
    //     handClickDate(arg) {
    //         // bind éšå¼ ä¼ é€’çš„äº‹ä»¶å¯¹è±¡ e 
    //         console.log(arg);
    //     }
    //     handClickDateTwo(e,...arg) {
    //         // æ˜¾ç¤ºä¼ é€’çš„ e
    //         console.log(e); // [ [1], 10]
    //     }

    //     // æ­¤è¯­æ³•ç¡®ä¿ `handleClick` å†…çš„ `this` å·²è¢«ç»‘å®šã€‚
    //     // æ³¨æ„: è¿™æ˜¯ *å®éªŒæ€§* è¯­æ³•ã€‚
    //     handleClickFour = () => {
    //         console.log('this is:', this);
    //     }

    //     render(){
    //          return <div>

    //             1. åœ¨æ„é€ å‡½æ•°ä¸­ç»‘å®š this
    //             <button onClick={this.handClick}>ç‚¹æˆ‘</button>

    //             2. è¿è¡Œæ—¶ç»‘å®š this
    //             <button onClick={this.handClickTwo.bind(this)}>ç‚¹æˆ‘</button>

    //             3. ç®­å¤´å‡½æ•° ç»‘å®š this 
    //             <button onClick={() => this.handClickThird()}>ç‚¹æˆ‘</button>

    //             4. JS å®éªŒæ€§çš„ class fields è¯­æ³•
    //             <button onClick={this.handleClickFour}>ç‚¹æˆ‘</button>

    //             5, ä¼ é€’å‚æ•°
    //             <button onClick={this.handClickDate.bind(this,[1],10)} />
    //             <button onClick={ (e)=>{this.handClickDateTwo(e,5)}}/>
    //                 </div>
    //     }
    // }
    // ReactDOM.render(<Hellow name='Word' />,  app) ;


// setState

    // class LikeButton extends React.Component{
    //     constructor(props) {
    //         super();
    //         this.state = {
            
    //             isLink : false,

    //             asynCount: 0,
    //             count: 0,

    //         }
            
    //     }
    //     static defaultProps  = {
            
    //     }
        
        
    //     asyncHandClick() {

        
    //         this.setState({
    //             isLink :!this.state.isLink,
    //             asynCount: this.state.asynCount + 1,
    //         });
    //         console.log("1:"+this.state.asynCount);

        
    //         this.setState({
    //             asynCount: this.state.asynCount+2,
    //         },()=>{
    //             console.log("2:"+this.state.asynCount);
    //             this.setState({
    //                 asynCount: this.state.asynCount+10,
    //             });
    //             console.log("3:"+this.state.asynCount);
    //         })
    //         console.log( "4:"+ this.state.asynCount);
            
    //         this.setState({
    //             asynCount: this.state.asynCount+6,
    //         },()=>{
    //             this.setState({
    //                 asynCount: this.state.asynCount+20,
    //             });
    //             console.log("7:"+this.state.asynCount);
    //         });
    //         console.log( "5:"+ this.state.asynCount);

    
    //     }
        
    //     handClick() {
    //         this.setState((state,prop)=>{
    //             state.count++;
    //             console.log(state.count,prop);
    //             return {count:state.count};
    //         })
    //         this.setState((state,prop)=>{
    //             state.count++;
            
    //             return state;
    //         })
    //         console.log(this.state);
    //     }
    //     render(){
    //          return <div>
    //                 <button onClick={this.asyncHandClick.bind(this)}>
    //                    å¼‚æ­¥ {this.state.isLink ? '' : 'ğŸ‘'} 
    //                 </button>
    //                 <p>{this.state.asynCount}</p>
    //                 <hr />
    //                 <button onClick={this.handClick.bind(this)}>
    //                    åŒæ­¥{this.state.isLink ? 'ï¼ˆï¿£ï¸¶ï¿£ï¼‰â†—ã€€' : ''} 
    //                 </button>
    //                 <p>{this.state.count}</p>

    //          </div>
    //     }
    // }


// state ++  è‡ªèº«é—®é¢˜
class Button extends React.Component{
        constructor(props) {
            super();
            this.state = {
                asynCount: 0,
                count:0,
            }
            
        }
        fooClick() {
            this.setState({
                count: this.state.count ++,
            },()=>{
                console.log('1:'+ this.state.count+':'+this.state.count)   
            }); 
            // this.setState({
            //     count: this.state.count ++,
            // },()=>{
            //     console.log( '2:'+this.state.count+':'+this.state.count)   
            // });
            // this.setState({
            //     count: this.state.count ++,
            // },()=>{
            //     console.log( '3:'+this.state.count+':'+this.state.count)   
            // });
          
            // this.setState((state)=>{
            //    state.count ++;
            //    return state;
            // })
            // console.log( this.state.count+':'+this.state.count)   
        }
        
        render(){
             return <div>
                    <button onClick={this.fooClick.bind(this)}> ç‚¹å‡»
                    </button>
                    <p>{this.state.count}</p>
             </div>
        }
    }


 ReactDOM.render(<Button name='button'/>,  app) ;
    </script>
</body>
</html>